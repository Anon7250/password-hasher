(this["webpackJsonppassword-hasher"]=this["webpackJsonppassword-hasher"]||[]).push([[0],{136:function(e,t,a){e.exports=a(246)},146:function(e,t,a){},147:function(e,t,a){},151:function(e,t){},153:function(e,t){},164:function(e,t){},166:function(e,t){},193:function(e,t){},195:function(e,t){},196:function(e,t){},202:function(e,t){},204:function(e,t){},222:function(e,t){},224:function(e,t){},236:function(e,t){},239:function(e,t){},245:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),l=a(18),s=a(31),i=(a(145),a(134)),u=a(24),m=a(8),d=a(25),h=a(43),f=(a(146),function(e){var t=function(){return e.dispatch({type:"DISMISS_ERROR"})};return r.a.createElement(h.a,{show:e.showError,onHide:t,className:"error-modal"},r.a.createElement(h.a.Header,{closeButton:!0},"Error Message"),r.a.createElement(h.a.Body,null,r.a.createElement("pre",null,e.errorMsg)),r.a.createElement(h.a.Footer,null,r.a.createElement(d.a,{onClick:t},"Dismiss")))}),g=Object(l.b)((function(e,t){return{showError:e.errors.showDialog,errorMsg:e.errors.msg}}))(f),w=a(44),E=(a(147),a(76)),p=a(33),v=a(132),S=a(131),O=function(e,t,a){if("sha512;last4"!==e)throw new Error("Unsupported hash method: ".concat(e));var n=function(e){var t=Object(S.createHash)("sha512");return t.update(e.toString()),t.digest("hex").toString()}(t.toString()+a.toString());return n.slice(n.length-4)},b=function(e){return r.a.createElement(d.a,{variant:"danger",onClick:function(){var t;t=e.name,window&&window.localStorage&&window.localStorage.removeItem("passwordv1-".concat(t)),e.dispatch(function(e){return{type:"RM_PASSWORD",name:e}}(e.name))}},"Delete")},y=Object(l.b)()(b),D=function(e){var t=r.a.useState(!1),a=Object(E.a)(t,2),n=a[0],o=a[1],c=r.a.useState(""),l=Object(E.a)(c,2),s=l[0],i=l[1],h=O(e.hashMethod,e.salt,s)===e.hash,f=n?"More..":"Check",g=function(){return o(!0)};return r.a.createElement(u.a,null,r.a.createElement(m.a,{xs:3,lg:4},e.name),r.a.createElement(m.a,{xs:3,lg:4},r.a.createElement(v.a,null,r.a.createElement(p.a.Control,{"data-testid":"verify-password:input",value:s,type:"password",isInvalid:n&&!h,isValid:n&&h,onChange:function(e){o(!1),i(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&g()}}),r.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Wrong Password"))),r.a.createElement(m.a,{xs:3,lg:2,className:"action-col"},r.a.createElement(d.a,{variant:"primary",onClick:g},f)),r.a.createElement(m.a,{xs:3,lg:2,className:"action-col"},r.a.createElement(y,{name:e.name})))},R=a(133),j=a.n(R),k=function(e){var t,a;return r.a.createElement(u.a,null,r.a.createElement(m.a,{xs:3,lg:4},r.a.createElement(p.a.Control,{ref:function(e){return t=e}})),r.a.createElement(m.a,{xs:3,lg:4},r.a.createElement(p.a.Control,{type:"password",ref:function(e){return a=e}})),r.a.createElement(m.a,{xs:3,lg:2,className:"action-col"},r.a.createElement(d.a,{variant:"primary",onClick:function(){var n,r=j.a.v4().toString(),o=O("sha512;last4",r,a.value);if((e.allPasswords||[]).some((function(e){return e.name===t.value})))return e.dispatch({type:"SHOW_ERROR",msg:'There is already a password named "'.concat(t.value,'". Please use a different name.')});n={name:t.value,salt:r,hash:o,hashMethod:"sha512;last4"},window&&window.localStorage&&window.localStorage.setItem("passwordv1-".concat(n.name),JSON.stringify(n)),e.dispatch(function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sha512;last4";return{type:"ADD_PASSWORD",name:e,salt:t,hash:a,hashMethod:n}}(t.value,r,o))}},"Add")),r.a.createElement(m.a,{xs:3,lg:2,className:"action-col"}))},x=Object(l.b)((function(e,t){return{allPasswords:e.passwordList.list}}))(k),M=function(e){var t=parseInt(e,16),a=((61440&t)*(15&t)<<4|(3840&t)*(15&t)|(240&t)*(15&t)>>4).toString(16);return a.length<6&&(a="0".repeat(6-a.length)+a),{color:(((61440&t)*(15&t)>>12)+((3840&t)*(15&t)>>8)+((240&t)*(15&t)>>4))/3>128?"black":"white",backgroundColor:"#".concat(a,"a0"),boxShadow:"0.3em 0.1em #".concat(a,"50")}},I=function(e){var t=e.content.map((function(e){return r.a.createElement(w.a.Item,{key:e.name,style:M(e.hash)},r.a.createElement(D,{name:e.name,salt:e.salt,hash:e.hash,hashMethod:e.hashMethod}))}));return r.a.createElement(w.a,{"data-testid":"password-list"},r.a.createElement(w.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{xs:3,lg:4},"Name"),r.a.createElement(m.a,{xs:3,lg:4},"Password"),r.a.createElement(m.a,{xs:6,lg:4,className:"action-col"},"Actions"))),r.a.createElement(w.a.Item,null,r.a.createElement(x,null)),t)},P=(a(245),Object(l.b)((function(e,t){return{content:e.passwordList.list,contentLoaded:e.passwordList.loaded}}))((function(e){var t=r.a.createElement(I,{content:e.content});return e.contentLoaded||(setTimeout((function(){return e.dispatch({type:"LOAD_PASSWORDS",list:function(){var e=window&&window.localStorage;if(e){for(var t=[],a=0;a<e.length;a++){var n=e.key(a);if(0===n.indexOf("passwordv1-")){var r=e.getItem(n);t.push(JSON.parse(r))}}return t}}()})}),500),t=r.a.createElement("pre",null,"Loading...")),r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,t)),r.a.createElement(g,null))}))),A=a(135),C=a(19),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],loaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PASSWORD":if(e.list.some((function(e){return e.name===t.name})))throw new Error("Programmer forgot to check duplicate name: "+t.name);return Object(C.a)(Object(C.a)({},e),{},{list:[t].concat(Object(A.a)(e.list))});case"RM_PASSWORD":return Object(C.a)(Object(C.a)({},e),{},{list:e.list.filter((function(e){return e.name!==t.name}))});case"LOAD_PASSWORDS":return Object(C.a)(Object(C.a)({},e),{},{list:t.list,loaded:!0});default:return e}},_=Object(s.b)({passwordList:W,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showDialog:!1,msg:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISMISS_ERROR":return Object(C.a)(Object(C.a)({},e),{},{showDialog:!1});case"SHOW_ERROR":return{showDialog:!0,msg:t.msg.toString()};default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Object(s.c)(_)},r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[136,1,2]]]);
//# sourceMappingURL=main.fd8bc4e2.chunk.js.map